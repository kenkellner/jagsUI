<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Wrapper Around rjags to Streamline JAGS Analyses â€¢ jagsUI</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="A Wrapper Around rjags to Streamline JAGS Analyses">
<meta property="og:description" content="A set of wrappers around rjags functions to run Bayesian analyses in JAGS (specifically, via libjags). A single function call can control adaptive, burn-in, and sampling MCMC phases, with MCMC chains run in sequence or in parallel. Posterior distributions are automatically summarized (with the ability to exclude some monitored nodes if desired) and functions are available to generate figures based on the posteriors (e.g., predictive check plots, traceplots). Function inputs, argument syntax, and output format are nearly identical to the R2WinBUGS/R2OpenBUGS packages to allow easy switching between MCMC samplers.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">jagsUI</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="articles/jagsUI.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kenkellner/jagsUI/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="jagsui-run-jags-from-r">jagsUI: Run JAGS from R<a class="anchor" aria-label="anchor" href="#jagsui-run-jags-from-r"></a>
</h1></div>
<!-- badges: start -->
<p>This package runs <code>JAGS</code> (Just Another Gibbs Sampler) analyses from within <code>R</code>. It acts as a wrapper and alternative interface for the functions in the <code>rjags</code> package and adds some custom output and graphical options. It also makes running chains in parallel quick and easy.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the package from <a href="https://cran.r-project.org/web/packages/jagsUI/index.html" class="external-link">CRAN</a>, or get the development version from Github:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'kenkellner/jagsUI'</span><span class="op">)</span></span></code></pre></div>
<p>You will also need to separately install JAGS, which you can download <a href="https://sourceforge.net/projects/mcmc-jags/files/JAGS/4.x/" class="external-link">here</a>.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kenkellner.com/jagsUI/" class="external-link">jagsUI</a></span><span class="op">)</span></span></code></pre></div>
<p>Format data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">jags_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  gnp <span class="op">=</span> <span class="va">longley</span><span class="op">$</span><span class="va">GNP</span>,</span>
<span>  employed <span class="op">=</span> <span class="va">longley</span><span class="op">$</span><span class="va">Employed</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">longley</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Write BUGS model file:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modfile</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="st">"</span></span>
<span><span class="st">model{</span></span>
<span><span class="st"></span></span>
<span><span class="st">  # Likelihood</span></span>
<span><span class="st">  for (i in 1:n){ </span></span>
<span><span class="st">    # Model data</span></span>
<span><span class="st">    employed[i] ~ dnorm(mu[i], tau)</span></span>
<span><span class="st">    # Calculate linear predictor</span></span>
<span><span class="st">    mu[i] &lt;- alpha + beta*gnp[i]</span></span>
<span><span class="st">  }</span></span>
<span><span class="st">    </span></span>
<span><span class="st">  # Priors</span></span>
<span><span class="st">  alpha ~ dnorm(0, 0.00001)</span></span>
<span><span class="st">  beta ~ dnorm(0, 0.00001)</span></span>
<span><span class="st">  sigma ~ dunif(0,1000)</span></span>
<span><span class="st">  tau &lt;- pow(sigma,-2)</span></span>
<span><span class="st"></span></span>
<span><span class="st">}</span></span>
<span><span class="st">"</span>, con<span class="op">=</span><span class="va">modfile</span><span class="op">)</span></span></code></pre></div>
<p>Set initial values and parameters to save:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inits</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>       beta<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,</span>
<span>       sigma<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">3</span><span class="op">)</span></span>
<span>  <span class="op">)</span>  </span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'alpha'</span>,<span class="st">'beta'</span>,<span class="st">'sigma'</span><span class="op">)</span></span></code></pre></div>
<p>Run JAGS:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/jags.html">jags</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">jags_data</span>,</span>
<span>            inits <span class="op">=</span> <span class="va">inits</span>,</span>
<span>            parameters.to.save <span class="op">=</span> <span class="va">params</span>,</span>
<span>            model.file <span class="op">=</span> <span class="va">modfile</span>,</span>
<span>            n.chains <span class="op">=</span> <span class="fl">3</span>,</span>
<span>            n.adapt <span class="op">=</span> <span class="fl">100</span>,</span>
<span>            n.iter <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>            n.burnin <span class="op">=</span> <span class="fl">500</span>,</span>
<span>            n.thin <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##</span></span>
<span><span class="co">## Processing function input.......</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Done.</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Compiling model graph</span></span>
<span><span class="co">##    Resolving undeclared variables</span></span>
<span><span class="co">##    Allocating nodes</span></span>
<span><span class="co">## Graph information:</span></span>
<span><span class="co">##    Observed stochastic nodes: 16</span></span>
<span><span class="co">##    Unobserved stochastic nodes: 3</span></span>
<span><span class="co">##    Total graph size: 74</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Initializing model</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Adaptive phase, 100 iterations x 3 chains</span></span>
<span><span class="co">## If no progress bar appears JAGS has decided not to adapt</span></span>
<span><span class="co">##</span></span>
<span><span class="co">##</span></span>
<span><span class="co">##  Burn-in phase, 500 iterations x 3 chains</span></span>
<span><span class="co">##</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Sampling from joint posterior, 500 iterations x 3 chains</span></span>
<span><span class="co">##</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Calculating statistics.......</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Done.</span></span></code></pre>
<p>View output:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out</span></span></code></pre></div>
<pre><code><span><span class="co">## JAGS output for model '/tmp/Rtmp9aOSoz/file15fda23cf96c2', generated by jagsUI.</span></span>
<span><span class="co">## Estimates based on 3 chains of 1000 iterations,</span></span>
<span><span class="co">## adaptation = 100 iterations (sufficient),</span></span>
<span><span class="co">## burn-in = 500 iterations and thin rate = 2,</span></span>
<span><span class="co">## yielding 750 total samples from the joint posterior.</span></span>
<span><span class="co">## MCMC ran for 0.001 minutes at time 2024-01-21 17:29:30.558591.</span></span>
<span><span class="co">##</span></span>
<span><span class="co">##            mean    sd   2.5%    50%  97.5% overlap0 f  Rhat n.eff</span></span>
<span><span class="co">## alpha    51.911 0.739 50.539 51.911 53.402    FALSE 1 0.999   750</span></span>
<span><span class="co">## beta      0.035 0.002  0.031  0.035  0.038    FALSE 1 1.000   750</span></span>
<span><span class="co">## sigma     0.715 0.148  0.487  0.699  1.095    FALSE 1 1.006   535</span></span>
<span><span class="co">## deviance 33.247 2.798 30.050 32.466 40.263    FALSE 1 1.002   750</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## Successful convergence based on Rhat values (all &lt; 1.1).</span></span>
<span><span class="co">## Rhat is the potential scale reduction factor (at convergence, Rhat=1).</span></span>
<span><span class="co">## For each parameter, n.eff is a crude measure of effective sample size.</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## overlap0 checks if 0 falls in the parameter's 95% credible interval.</span></span>
<span><span class="co">## f is the proportion of the posterior with the same sign as the mean;</span></span>
<span><span class="co">## i.e., our confidence that the parameter is positive or negative.</span></span>
<span><span class="co">##</span></span>
<span><span class="co">## DIC info: (pD = var(deviance)/2)</span></span>
<span><span class="co">## pD = 3.9 and DIC = 37.161</span></span>
<span><span class="co">## DIC is an estimate of expected predictive error (lower is better).</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<ul>
<li>Martyn Plummer, developer of the excellent JAGS software package and the <code>rjags</code> R package.</li>
<li>Andrew Gelman, Sibylle Sturtz, Uwe Ligges, Yu-Sung Su, and Masanao Yajima, developers of the <code>R2WinBUGS</code> and <code>R2jags</code> packages on which the package was originally based.</li>
<li>Robert Swihart, Marc Kery, Jerome Guelat, Michael Schaub, and Mike Meredith who tested and provided helpful suggestions and improvements for the package.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=jagsUI" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/kenkellner/jagsUI/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/kenkellner/jagsUI/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing jagsUI</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://kenkellner.com" class="external-link">Ken Kellner</a> <br><small class="roles"> Maintainer, author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/web/packages/jagsUI/index.html" class="external-link"><img src="https://www.r-pkg.org/badges/version/jagsUI" alt="CRAN status"></a></li>
<li><a href="https://github.com/kenkellner/jagsUI/actions" class="external-link"><img src="https://github.com/kenkellner/jagsUI/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://kenkellner.com" class="external-link">Ken Kellner</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
